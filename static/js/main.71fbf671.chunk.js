(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,,,,,function(e,t,n){e.exports={section:"Section_section__CXDot"}},function(e,t,n){e.exports={task:"TaskItem_task__u4NiO"}},function(e,t,n){e.exports={container:"Tasks_container__1-3l_"}},function(e,t,n){e.exports={form:"TaskForm_form__3Iphr"}},,,,,function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var r=n(6),c=n.n(r),s=(n(15),n(3)),a=n.n(s),o=n(4),i=n(2),u=n(1),j=n.n(u),l=n(7),d=n.n(l),f=n(0),b=function(e){return Object(f.jsx)("section",{className:d.a.section,children:e.children})},h=n(8),x=n.n(h),p=function(e){return Object(f.jsx)("li",{className:x.a.task,children:e.children})},O=n(9),m=n.n(O),k=function(e){var t=Object(f.jsx)("h2",{children:"No tasks found. Start adding some!"});e.items.length>0&&(t=Object(f.jsx)("ul",{children:e.items.map((function(e){return Object(f.jsx)(p,{children:e.text},e.id)}))}));var n=t;return e.error&&(n=Object(f.jsx)("button",{onClick:e.onFetch,children:"Try again"})),e.loading&&(n="Loading tasks..."),Object(f.jsx)(b,{children:Object(f.jsx)("div",{className:m.a.container,children:n})})},g=n(10),v=n.n(g),w=function(e){var t=Object(u.useRef)();return Object(f.jsxs)("form",{className:v.a.form,onSubmit:function(n){n.preventDefault();var r=t.current.value;r.trim().length>0&&e.onEnterTask(r)},children:[Object(f.jsx)("input",{type:"text",ref:t}),Object(f.jsx)("button",{children:e.loading?"Sending...":"Add Task"})]})},S=function(e){var t=Object(u.useState)(!1),n=Object(i.a)(t,2),r=n[0],c=n[1],s=Object(u.useState)(null),j=Object(i.a)(s,2),l=j[0],d=j[1],h=function(){var t=Object(o.a)(a.a.mark((function t(n){var r,s,o,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),d(null),t.prev=2,t.next=5,fetch("https://task-7669d-default-rtdb.firebaseio.com/tasks.json",{method:"POST",body:JSON.stringify({text:n}),headers:{"Content-Type":"application/json"}});case 5:if((r=t.sent).ok){t.next=8;break}throw new Error("Request failed!");case 8:return t.next=10,r.json();case 10:s=t.sent,o=s.name,i={id:o,text:n},e.onAddTask(i),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(2),d(t.t0.message||"Something went wrong!");case 19:c(!1);case 20:case"end":return t.stop()}}),t,null,[[2,16]])})));return function(e){return t.apply(this,arguments)}}();return Object(f.jsxs)(b,{children:[Object(f.jsx)(w,{onEnterTask:h,loading:r}),l&&Object(f.jsx)("p",{children:l})]})};var _=function(){var e=Object(u.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(u.useState)(null),s=Object(i.a)(c,2),l=s[0],d=s[1],b=Object(u.useState)([]),h=Object(i.a)(b,2),x=h[0],p=h[1],O=function(){var e=Object(o.a)(a.a.mark((function e(t){var n,c,s,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),d(null),e.prev=2,e.next=5,fetch("https://task-7669d-default-rtdb.firebaseio.com/tasks.json");case 5:if((n=e.sent).ok){e.next=8;break}throw new Error("Request failed!");case 8:return e.next=10,n.json();case 10:for(o in c=e.sent,s=[],c)s.push({id:o,text:c[o].text});p(s),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),d(e.t0.message||"Something went wrong!");case 19:r(!1);case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){O()}),[]),Object(f.jsxs)(j.a.Fragment,{children:[Object(f.jsx)(S,{onAddTask:function(e){p((function(t){return t.concat(e)}))}}),Object(f.jsx)(k,{items:x,loading:n,error:l,onFetch:O})]})};c.a.render(Object(f.jsx)(_,{}),document.getElementById("root"))}],[[18,1,2]]]);
//# sourceMappingURL=main.71fbf671.chunk.js.map